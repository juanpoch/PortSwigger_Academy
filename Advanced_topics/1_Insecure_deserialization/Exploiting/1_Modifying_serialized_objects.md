# Lab: Modifying serialized objects

This lab uses a serialization-based session mechanism and is vulnerable to privilege escalation as a result. To solve the lab, edit the serialized object in the session cookie to exploit this vulnerability and gain administrative privileges. Then, delete the user `carlos`.

You can log in to your own account using the following credentials: `wiener:peter`

![Practitioner](https://img.shields.io/badge/level-Apprentice-green) 

---

Iniciamos el laboratorio y nos encontramos con una aplicación de compras online:
![image](https://github.com/user-attachments/assets/0e746c46-a1ce-4bc2-8df7-59c5ad260458)

Nosotros sabemos que este laboratorio tiene un mecanismo de serialización vulnerable en el manejo de sesiones que permite una escalada de privilegios. Tenemos que editar el objeto serializado en la cookie de sesión para explotar la vulnerabilidad y eliminar el usuario `carlos`.

Nos autenticamos con nuestras credenciales `wiener:peter`:
![image](https://github.com/user-attachments/assets/81291614-90a4-4389-bc02-0570337de188)

Si observamos bien, el servidor nos devuelve una cookie con un objeto PHP serializado, codificado en Base64:
![image](https://github.com/user-attachments/assets/ddd86c00-ba41-45e2-980a-159b64df4f7e)

Concretamente nos devuelve:
```php
O:4:"User":2:{s:8:"username";s:6:"wiener";s:5:"admin";b:0;}
```

