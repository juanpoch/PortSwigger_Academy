# Lab: SQL injection vulnerability in WHERE clause allowing retrieval of hidden data

This lab contains a SQL injection vulnerability in the product category filter. When the user selects a category, the application carries out a SQL query like the following:

`SELECT * FROM products WHERE category = 'Gifts' AND released = 1`
To solve the lab, perform a SQL injection attack that causes the application to display one or more unreleased products.

![Practitioner](https://img.shields.io/badge/level-Apprentice-green)

---

Tenemos un sitio web para realizar compras de productos:
![image](https://github.com/user-attachments/assets/e7f1d850-f540-4cfc-9495-0bae72bb061e)

Podemos buscar productos y realizar filtros según su categoría, probamos filtrar por `Gifts`:
![image](https://github.com/user-attachments/assets/a82cdd53-a451-41de-8bbc-b3da6aedd74f)

Nosotros sabemos que la consulta por detrás es la siguiente:
```sql
SELECT * FROM products WHERE category = 'Gifts' AND released = 1
```
Y sabemos que el valor de `category` lo toma del parámetro de la url `?category=Gifts`.

Procedemos a intentar romper al consulta, añadiendo el caracter `'`, lo cual cerraría la consulta de la siguiente forma:
```sql
SELECT * FROM products WHERE category = 'Gifts'' AND relesead = 1
```
La última parte de la consulta (`' AND relesead = 1`) queda por fuera y podría causar un error de sintaxis:
![image](https://github.com/user-attachments/assets/b8469c86-9f5b-422f-9eda-9ed3f7cc83d5)




