# Lab: SQL injection vulnerability allowing login bypass

This lab contains a SQL injection vulnerability in the login function.

To solve the lab, perform a SQL injection attack that logs in to the application as the `administrator` user.

![Practitioner](https://img.shields.io/badge/level-Apprentice-green)  


---

Accedemos al lab:
![image](https://github.com/user-attachments/assets/b59ca4cf-78fa-4fc6-8ed2-cb74cea8591a)

Ingresamos al panel de login haciendo click en `My account`:
![image](https://github.com/user-attachments/assets/a9810adb-fa9c-497a-9fec-e6452ae52f7e)

Comenzamos inyectando el caracter `'` para observar como reacciona la aplicación y si lanza errores de sintaxis:
![image](https://github.com/user-attachments/assets/abf42a6e-7e4c-4ff4-934d-f0a29303d42a)

Como vemos, lanzó un `Internal server error` lo que indica que la aplicación podría ser vulnerable a SQLi:
![image](https://github.com/user-attachments/assets/7515ccfb-ebae-4a5a-8b69-5ca60e3a97a8)

Nosotros sabemos que la consulta podría ser la siguiente:
```sql
SELECT * FROM users WHERE username = [username] AND password = [password]
```

Procedemos a inyectar el siguiente payload: `administrator'--`

Por lo que la query quedaría así:
```sql
SELECT * FROM users WHERE username = 'administrator'--' AND password = [password]
```

Lo interesante de esto es que, si el usuario es correcto podremos hacer sesión, de lo contrario no, por lo que incluso podríamos realizar enumeración de usuarios con capacidad de inicio de sesión.

Inyectamos el payload y resolvemos el lab:
![image](https://github.com/user-attachments/assets/efbe8952-c423-4052-b7d0-fc1f4270621b)
![image](https://github.com/user-attachments/assets/ae099723-c1f0-4a6d-96d3-e1dbbb0e3e54)





