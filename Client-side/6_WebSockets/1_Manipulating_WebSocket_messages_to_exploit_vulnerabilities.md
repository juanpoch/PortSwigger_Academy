# Lab: Manipulating WebSocket messages to exploit vulnerabilities

This online shop has a live chat feature implemented using WebSockets.

Chat messages that you submit are viewed by a support agent in real time.

To solve the lab, use a WebSocket message to trigger an `alert()` popup in the support agent's browser.

![Practitioner](https://img.shields.io/badge/level-Apprentice-green) 

---

Iniciamos el laboratorio y nos encontramos con una aplicación de compras online:
![image](https://github.com/user-attachments/assets/d722cc9a-17ae-417e-a74c-7b22467a09ad)


Nos dirijimos a `Live chat`:
![image](https://github.com/user-attachments/assets/886f7e11-0c84-407a-af26-8d339dd9b8b5)


Enviamos un mensaje e inspeccionamos la pestaña de WebSockets history, recordar que hay que refrescar la página hasta que aparezca el mensaje `ready`:
![image](https://github.com/user-attachments/assets/1579473c-f080-43de-a87b-73e56f5b92fe)
![image](https://github.com/user-attachments/assets/58b4304b-bea9-4620-ad63-475831d89bf6)

Esto quiere decir que existe una base de datos que aloja esta información y me la está enviando a mí.


![image](https://github.com/user-attachments/assets/45d2731a-4e5b-4127-b284-bd6f510f4fb7)

Como tenemos que ejecutar un `alert()` procedemos a enviar el siguiente mensaje:
```javascript
<img src=0 onerror=\"alert(1)\">
```


